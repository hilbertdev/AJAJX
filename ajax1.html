<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>AJAX crash course</title>
    

</head>
<body>
    <button id="btnGet">Get Text File</button>
    <div id="textArea">

    </div>
    <script>
  //create an event listener to catch the events of the button click 
  document.querySelector('#btnGet').addEventListener('click', ()=>{
         //create XHR object 
         var xhr = new XMLHttpRequest();
         //Open takes in 3 parameters, type, url, sync or not
         xhr.open('GET','sample.txt', true);
         xhr.onload = function(){
             if(this.status == 200){  //200 means okay, 403 means forbidden, 404 means not found 
                document.getElementById('textArea').innerText = this.responseText;
             }
         } 
         xhr.onerror = function(){
             console.log("err message");
         }
         //sends the request
         xhr.send();
  });
  //read state values 0: reqiest not initialized. 1: server connection established, 2: request received, 3: processing request, 4: request finised and response ready

    </script>
</body>
</html>